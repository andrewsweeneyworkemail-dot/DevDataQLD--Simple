name: Dev.i CSV browser export

on:
  workflow_dispatch: {}
  schedule:
    - cron: '0 21 * * *'

jobs:
  export:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          python -m playwright install --with-deps chromium

      - name: Run Development.i pipeline
        run: |
          python -m scripts.dev_i_pipeline --days 30 --headless

      - name: Upload CSV outputs
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: dev_i_csv_outputs
          path: output/*.csv
          if-no-files-found: warn

      - name: Upload screenshots (debug)
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: dev_i_screenshots
          path: logs/screenshots
          if-no-files-found: warn

      - name: Upload DA Forms
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: dev_i_da_forms
          path: output/*/DA Form
          if-no-files-found: warn

      - name: Upload download log
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: dev_i_download_log
          path: output/download_log.csv
          if-no-files-found: warn
diff --git a/.github/workflows/dev_i_csv_export.yml b/.github/workflows/dev_i_csv_export.yml
new file mode 100644
index 0000000000000000000000000000000000000000..66e0ab862e89814a614408547144a70c69c48c32
--- /dev/null
+++ b/.github/workflows/dev_i_csv_export.yml
@@ -0,0 +1,60 @@
+name: Dev.i CSV browser export
+
+on:
+  workflow_dispatch:
+  schedule:
+    - cron: "0 21 * * *"
+
+jobs:
+  export:
+    runs-on: ubuntu-latest
+
+    steps:
+      - name: Checkout repo
+        uses: actions/checkout@v4
+
+      - name: Set up Python
+        uses: actions/setup-python@v5
+        with:
+          python-version: "3.11"
+
+      - name: Install dependencies
+        run: |
+          pip install -r requirements.txt
+          python -m playwright install --with-deps chromium
+
+      - name: Run Development.i pipeline
+        run: |
+          python -m scripts.dev_i_pipeline --days 30 --headless
+
+      - name: Upload CSV outputs
+        if: always()
+        uses: actions/upload-artifact@v4
+        with:
+          name: dev_i_csv_outputs
+          path: output/*.csv
+          if-no-files-found: warn
+
+      - name: Upload screenshots (debug)
+        if: always()
+        uses: actions/upload-artifact@v4
+        with:
+          name: dev_i_screenshots
+          path: logs/screenshots
+          if-no-files-found: warn
+
+      - name: Upload DA Forms
+        if: always()
+        uses: actions/upload-artifact@v4
+        with:
+          name: dev_i_da_forms
+          path: output/*/DA Form
+          if-no-files-found: warn
+
+      - name: Upload download log
+        if: always()
+        uses: actions/upload-artifact@v4
+        with:
+          name: dev_i_download_log
+          path: output/download_log.csv
+          if-no-files-found: warn

